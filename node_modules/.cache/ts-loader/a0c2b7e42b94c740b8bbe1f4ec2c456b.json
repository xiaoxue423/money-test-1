{"remainingRequest":"/Users/mis/Desktop/huxue/money/node_modules/babel-loader/lib/index.js!/Users/mis/Desktop/huxue/money/node_modules/ts-loader/index.js??ref--13-2!/Users/mis/Desktop/huxue/money/src/models/tagListModel.ts","dependencies":[{"path":"/Users/mis/Desktop/huxue/money/src/models/tagListModel.ts","mtime":1613436220987},{"path":"/Users/mis/Desktop/huxue/money/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mis/Desktop/huxue/money/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mis/Desktop/huxue/money/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKdmFyIGxvY2FsU3RvcmFnZUtleU5hbWUgPSAndGFnTGlzdCc7CnZhciB0YWdMaXN0TW9kZWwgPSB7CiAgZGF0YTogW10sCiAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlS2V5TmFtZSkgfHwgJ1tdJyk7CiAgICByZXR1cm4gdGhpcy5kYXRhOwogIH0sCiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUobmFtZSkgewogICAgLy8gdGhpcy5kYXRhID0gW3tpZDonMScsbmFtZTonMSd9LHtpZDonMicsbmFtZTonMid9XQogICAgdmFyIG5hbWVzID0gdGhpcy5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5uYW1lOwogICAgfSk7CgogICAgaWYgKG5hbWVzLmluZGV4T2YobmFtZSkgPj0gMCkgewogICAgICByZXR1cm4gJ2R1cGxpY2F0ZWQnOwogICAgfQoKICAgIHRoaXMuZGF0YS5wdXNoKHsKICAgICAgaWQ6IG5hbWUsCiAgICAgIG5hbWU6IG5hbWUKICAgIH0pOwogICAgdGhpcy5zYXZlKCk7CiAgICByZXR1cm4gJ3N1Y2Nlc3MnOwogIH0sCiAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VLZXlOYW1lLCBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTsKICB9Cn07IC8vIGV4cG9ydCBkZWZhdWx0IE1vZGVsCgpleHBvcnQgeyB0YWdMaXN0TW9kZWwgfTs="},{"version":3,"sources":["/Users/mis/Desktop/huxue/money/src/models/tagListModel.ts"],"names":[],"mappings":";;;AAAA,IAAM,mBAAmB,GAAG,SAA5B;AAaA,IAAM,YAAY,GAAiB;AAC/B,EAAA,IAAI,EAAE,EADyB;AAE/B,EAAA,KAF+B,mBAE1B;AACD,SAAK,IAAL,GAAY,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,mBAA5B,KAAoD,IAA/D,CAAZ;AACA,WAAO,KAAK,IAAZ;AACH,GAL8B;AAM/B,EAAA,MAN+B,kBAMxB,IANwB,EAMpB;AACP;AACA,QAAM,KAAK,GAAG,KAAK,IAAL,CAAU,GAAV,CAAc,UAAA,IAAI;AAAA,aAAI,IAAI,CAAC,IAAT;AAAA,KAAlB,CAAd;;AACA,QAAI,KAAK,CAAC,OAAN,CAAc,IAAd,KAAuB,CAA3B,EAA8B;AAAE,aAAO,YAAP;AAAqB;;AACrD,SAAK,IAAL,CAAU,IAAV,CAAe;AAAC,MAAA,EAAE,EAAE,IAAL;AAAW,MAAA,IAAI,EAAE;AAAjB,KAAf;AACA,SAAK,IAAL;AACA,WAAO,SAAP;AACH,GAb8B;AAc/B,EAAA,IAd+B,kBAc3B;AACA,IAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,mBAA5B,EAAiD,IAAI,CAAC,SAAL,CAAe,KAAK,IAApB,CAAjD;AACH;AAhB8B,CAAnC,C,CAmBA;;AACA,SAAQ,YAAR","sourcesContent":["const localStorageKeyName = 'tagList';\r\ntype Tag = {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\ntype TagListModel = {\r\n    data: Tag[];\r\n    fetch: () => Tag[];\r\n    create: (name: string) => 'success' | 'duplicated'; //联合类型\r\n    save: () => void;\r\n}\r\n\r\nconst tagListModel: TagListModel = {\r\n    data: [],\r\n    fetch() {\r\n        this.data = JSON.parse(window.localStorage.getItem(localStorageKeyName) || '[]');\r\n        return this.data;\r\n    },\r\n    create(name) {\r\n        // this.data = [{id:'1',name:'1'},{id:'2',name:'2'}]\r\n        const names = this.data.map(item => item.name);\r\n        if (names.indexOf(name) >= 0) { return 'duplicated';}\r\n        this.data.push({id: name, name: name});\r\n        this.save();\r\n        return 'success';\r\n    },\r\n    save() {\r\n        window.localStorage.setItem(localStorageKeyName, JSON.stringify(this.data));\r\n    }\r\n};\r\n\r\n// export default Model\r\nexport {tagListModel};"],"sourceRoot":""}]}